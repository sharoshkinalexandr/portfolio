<!doctype html>
<html lang="ru" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <title>Шарошкин Александр Сергеевич — Маркетолог-перформанс</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Шарошкин Александр Сергеевич — перформанс-маркетолог: лидогенерация, сквозная аналитика, CRM, автоматизация. Кейсы RICHTONE, Human&Business, БТК, М131." />
  <style>
    :root{
      /* Тёмная тема по умолчанию */
      --bg:#0f1220; --card:#171a2b; --muted:#9aa3b2; --text:#e8ecf1;
      --acc:#6ee7b7; --acc2:#60a5fa; --acc3:#a78bfa; --line:#1f233a; --axis:#2a3052;
      --btn-bg:rgba(255,255,255,.06); --chip-bg:rgba(96,165,250,.08); --border:rgba(255,255,255,.06);
      --shadow:0 10px 30px rgba(0,0,0,.25);
    }
    [data-theme="light"]{
      --bg:#f7f9fc; --card:#ffffff; --muted:#586174; --text:#0f172a;
      --acc:#0ea5e9; --acc2:#6366f1; --acc3:#22c55e; --line:#e6e8ef; --axis:#cbd5e1;
      --btn-bg:#eef2ff; --chip-bg:#e0f2fe; --border:#e5e7eb;
      --shadow:0 8px 24px rgba(15,23,42,.08);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 600px at 80% -10%, rgba(27,30,51,.6) 0%, transparent 60%),
        var(--bg);
      line-height:1.6;
      overflow-x:hidden;
    }
    a{color:var(--acc2);text-decoration:none}
    .wrap{max-width:1100px;margin:0 auto;padding:24px}

    /* Header */
    header{position:sticky;top:0;z-index:40;background:color-mix(in oklab, var(--bg) 88%, transparent 12%);backdrop-filter:blur(10px);border-bottom:1px solid var(--border)}
    .nav{display:flex;align-items:center;justify-content:space-between;gap:16px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:32px;height:32px;border-radius:8px;background:conic-gradient(from 180deg,var(--acc),var(--acc2),var(--acc3),var(--acc));box-shadow:0 0 30px color-mix(in oklab,var(--acc) 30%, transparent);animation:spin 8s linear infinite}
    @keyframes spin{to{transform:rotate(360deg)}}
    header nav{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    header nav a{color:color-mix(in oklab,var(--text) 85%, transparent);font-weight:600;padding:8px 10px;border-radius:8px}
    header nav a:hover{background:var(--btn-bg)}
    .actions{display:flex;gap:10px;align-items:center}
    .btn{padding:10px 14px;border-radius:10px;border:1px solid var(--border);background:var(--btn-bg);font-weight:700;cursor:pointer;display:inline-flex;align-items:center;gap:8px;box-shadow:var(--shadow);transition:transform .15s ease, box-shadow .2s ease}
    .btn:hover{transform:translateY(-2px)}
    .btn.primary{background:linear-gradient(90deg,var(--acc),var(--acc2));color:#0a1020;border:none}
    .btn.resume{background:linear-gradient(90deg,var(--acc2),var(--acc));color:#0b1022;border:none}
    .toggle{padding:10px 12px;border-radius:10px;border:1px solid var(--border);background:var(--card);display:inline-flex;align-items:center;gap:8px;cursor:pointer}
    .toggle svg{width:18px;height:18px}

    /* Cards / Reveal */
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:24px;box-shadow:var(--shadow);transform:translateY(10px);opacity:0;transition:all .6s ease}
    .reveal{transform:none!important;opacity:1!important}

    /* Hero */
    .hero{display:grid;grid-template-columns:1.2fr .8fr;gap:28px;padding:48px 0}
    .h1{font-size:42px;line-height:1.12;margin:0 0 12px;font-weight:800;background:linear-gradient(90deg,var(--acc),var(--acc2),var(--acc3));-webkit-background-clip:text;background-clip:text;color:transparent}
    .lead{color:var(--muted);margin:0 0 18px}
    .chips{display:flex;flex-wrap:wrap;gap:10px;margin:14px 0 22px}
    .chip{padding:6px 10px;border-radius:999px;border:1px solid var(--border);color:color-mix(in oklab,var(--acc2) 85%, var(--text));background:var(--chip-bg)}

    /* Layout */
    .section{padding:34px 0}
    h2{margin:0 0 16px;font-size:28px}
    h3{margin:0 0 8px;font-size:18px}
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
    .grid-2{display:grid;grid-template-columns:1fr 1fr;gap:18px}
    .muted{color:var(--muted)}

    /* About */
    .about{display:grid;grid-template-columns:180px 1fr;gap:22px;align-items:start}
    .avatar{width:160px;height:160px;border-radius:50%;object-fit:cover;box-shadow:var(--shadow)}

    /* Accordion (cases) */
    details{border:1px solid var(--border);background:color-mix(in oklab,var(--card) 96%, transparent 4%);border-radius:14px;transition:all .25s ease}
    summary{list-style:none;padding:16px 18px;cursor:pointer;font-weight:700;color:color-mix(in oklab,var(--text) 88%, transparent);display:flex;align-items:center;gap:10px}
    summary img{height:26px;border-radius:6px;border:1px solid var(--border);background:#fff}
    summary::-webkit-details-marker{display:none}
    details[open]{box-shadow:var(--shadow)}
    .case-body{padding:0 18px 18px;color:color-mix(in oklab,var(--text) 92%, transparent);border-top:1px dashed var(--border)}
    .shot{margin-top:10px}
    .shot img{width:100%;border-radius:12px;border:1px solid var(--border)}

    /* Logos gallery */
    .logos{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
    .logos img{width:100%;height:110px;object-fit:cover;border-radius:12px;border:1px solid var(--border);filter:saturate(.95);transition:transform .2s ease,filter .2s ease}
    .logos img:hover{transform:translateY(-3px) scale(1.01);filter:saturate(1.05)}

    /* Charts */
    .chart{background:color-mix(in oklab,var(--card) 98%, transparent 2%);border:1px solid var(--border);border-radius:12px;padding:12px;position:relative}
    .tooltip{position:absolute;pointer-events:none;background:color-mix(in oklab,var(--bg) 94%, #000 6%);color:var(--text);border:1px solid var(--axis);border-radius:8px;padding:6px 8px;font-size:12px;box-shadow:var(--shadow);display:none}

    /* Contacts socials */
    .socials{display:flex;gap:12px;flex-wrap:wrap;margin-top:12px}
    .sbtn{display:inline-flex;align-items:center;gap:8px;padding:12px 14px;border-radius:12px;border:1px solid var(--border);background:color-mix(in oklab,var(--card) 96%, transparent 4%);color:var(--text);font-weight:700}
    .sbtn:hover{transform:translateY(-2px)}
    .sbtn svg{width:20px;height:20px}
    .sbtn.tg{background:color-mix(in oklab,var(--acc2) 14%, var(--card))}
    .sbtn.wa{background:color-mix(in oklab,var(--acc) 14%, var(--card))}
    .sbtn.wc{background:color-mix(in oklab,var(--acc3) 14%, var(--card))}

    /* Responsive */
    @media (max-width:960px){
      .hero{grid-template-columns:1fr}
      .grid{grid-template-columns:1fr}
      .grid-2{grid-template-columns:1fr}
      .about{grid-template-columns:1fr}
      .logos{grid-template-columns:1fr 1fr}
    }
  </style>
</head>
<body>
<header>
  <div class="wrap nav">
    <div class="brand">
      <div class="logo" aria-hidden="true"></div>
      <strong>Шарошкин Александр Сергеевич — маркетолог</strong>
    </div>
    <nav>
      <a href="#about">Обо мне</a>
      <a href="#cases">Кейсы</a>
      <a href="#charts">Графики</a>
      <a href="#projects">Проекты</a>
      <a href="#contacts">Контакты</a>
    </nav>
    <div class="actions">
      <a class="btn resume" href="resume.pdf" download>
        <!-- icon -->
        <svg viewBox="0 0 24 24" fill="none"><path d="M6 20h12M12 3v12m0 0l-4-4m4 4 4-4" stroke="#0b1022" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
        Скачать резюме (PDF)
      </a>
      <button id="themeToggle" class="toggle" aria-pressed="false" title="Переключить тему">
        <svg id="iconSun" viewBox="0 0 24 24" fill="none"><path d="M12 4V2M12 22v-2M4 12H2m20 0h-2M5 5 3.6 3.6M20.4 20.4 19 19M19 5l1.4-1.4M3.6 20.4 5 19" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>
        <svg id="iconMoon" viewBox="0 0 24 24" fill="none" style="display:none"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" stroke="currentColor" stroke-width="2"/></svg>
        Тема
      </button>
    </div>
  </div>
</header>

<main class="wrap">
  <!-- HERO -->
  <section class="hero">
    <div class="card">
      <h1 class="h1">Запускаю рекламу, которая приводит <span style="background:linear-gradient(90deg,var(--acc),var(--acc2));-webkit-background-clip:text;background-clip:text;color:transparent">целевых клиентов</span></h1>
      <p class="lead">Перформанс-маркетинг, аналитика и автоматизация. Международные рынки: США, Канада, MENA, Восточная Европа. Работаю на результат: рост лидов, снижение CPL, прибыль по каналам.</p>
      <div class="chips">
        <span class="chip">Google / Meta / Яндекс</span>
        <span class="chip">Сквозная аналитика</span>
        <span class="chip">CRM и автоматизация</span>
        <span class="chip">RU / EN / 中文</span>
      </div>
      <div class="btns">
        <a class="btn primary" href="#cases">Смотреть кейсы</a>
        <a class="btn" href="#contacts">Обсудить проект</a>
      </div>
    </div>
    <div class="card">
      <h3>Коротко</h3>
      <ul>
        <li>RICHTONE — CPL ↓ <strong>35%</strong>, <strong>1150+</strong> заявок за 3 мес., ROI 300%+.</li>
        <li>Human&Business — бонусная система и ЛК: активность +45%, повторы +30%.</li>
        <li>БТК — стратегия и медиапланы: рост спроса +22% за квартал.</li>
      </ul>
      <p class="muted">Связываю рекламу, сайт и CRM, повышаю долю «деловых» лидов и маржу.</p>
    </div>
  </section>

  <!-- ABOUT (перемещён вторым) -->
  <section id="about" class="section">
    <h2>Обо мне</h2>
    <div class="card about">
      <img class="avatar" src="img/photo.jpg" alt="Шарошкин Александр Сергеевич" />
      <div>
        <p><strong>Шарошкин Александр Сергеевич</strong> — маркетолог, отвечаю за поток заявок и прибыльность рекламы. Запускаю кампании в поиске и соцсетях для США, Канады, стран Персидского залива и Восточной Европы. Распределяю бюджет по городам и времени, регулярно тестирую объявления и страницы.</p>
        <p>Собираю данные из рекламы, сайта и CRM в один отчёт: считаю стоимость заявки и сделки, окупаемость, ежедневно отслеживаю отклонения и быстро исправляю. Повышаю долю «деловых» обращений (удобные формы, быстрые ответы, правила квалификации). Ставлю метки и скрипты, связываю письма/мессенджеры с рекламой. Интегрирую сайт, рекламу и CRM, убираю ручные задачи. Пишу тексты на русском, английском и китайском.</p>
        <p class="muted">Инструменты: Google Ads, Meta Ads, Яндекс, аналитика сайта и CRM, таблицы и дашборды, простые правки кода.</p>
      </div>
    </div>
  </section>

  <!-- CASES -->
  <section id="cases" class="section">
    <h2>Кейсы (раскрываются по клику)</h2>

    <details class="card">
      <summary><img src="img/richtone-logo.png" alt="RICHTONE"> RICHTONE — международные рынки</summary>
      <div class="case-body">
        <p><strong>Цель:</strong> увеличить поток заявок и снизить CPL в США, Канаде, странах Персидского залива и Восточной Европы.</p>
        <p><strong>Что сделал:</strong> кампании Google/Meta; распределение бюджетов по городам и времени; A/B-тесты объявлений и лендингов; связал рекламу, сайт и CRM; быстрые автоответы; удобные формы; правила квалификации; UTM/скрипты для точного источника.</p>
        <p><strong>Результат:</strong> CPL −35% (с 650 ₽ до 420 ₽), <strong>1150+ заявок</strong> за 3 месяца, конверсия лид→сделка до 18%, ROMI 300%+.</p>
        <div class="shot"><img src="img/richtone.png" alt="Скриншот сайта RICHTONE"></div>
      </div>
    </details>

    <details class="card">
      <summary><img src="img/hb-logo.png" alt="Human&Business"> Human&Business — бонусная система</summary>
      <div class="case-body">
        <p><strong>Цель:</strong> рост удержания и повторных покупок.</p>
        <p><strong>Что сделал:</strong> координация SMM, трейд-маркетинга, дизайна и интернет-маркетинга; постановка задач и контроль подрядчиков; креативы и медиапланы; запуск ЛК для продавцов/покупателей/заводчиков.</p>
        <p><strong>Результат:</strong> активность ЛК +45% за 2 мес., повторные покупки +30%.</p>
        <div class="shot"><img src="img/karmy.png" alt="Karmy — витрина бренда (Human&Business)"></div>
      </div>
    </details>

    <details class="card">
      <summary><img src="img/btk-logo.png" alt="БТК"> БТК — стратегия и исследования</summary>
      <div class="case-body">
        <p><strong>Что сделал:</strong> конкурентный анализ, фокус-группы, позиционирование, тактика/стратегия продвижения, медиапланы и бюджеты, PR.</p>
        <p><strong>Итог:</strong> выделены 3 прибыльных направления, рост спроса +22% за квартал, внедрены новые технологии в ритейл.</p>
        <div class="shot"><img src="img/mariroberto.png" alt="Mariroberto — мебель из экоротанга (B2C)"></div>
      </div>
    </details>

    <details class="card">
      <summary><img src="img/m131-logo.png" alt="М131"> ГК «М131» — розница и спрос</summary>
      <div class="case-body">
        <p><strong>Что сделал:</strong> отчётность по акциям, анализ эффективности, рекомендации по росту спроса, медиапланы, фокус-группы, позиционирование, мониторинг конкурентов.</p>
        <p><strong>Итог:</strong> устойчивый рост обращений и узнаваемости.</p>
        <div class="shot"><img src="img/stroideya.png" alt="Строительный гипермаркет «Стройидея» — скриншот"></div>
      </div>
    </details>
  </section>

  <!-- CHARTS -->
  <section id="charts" class="section">
    <h2>Графики (реалистичные метрики за 6 месяцев)</h2>
    <div class="grid-2">
      <div class="card chart">
        <h3>Заявки по месяцам</h3>
        <div class="tooltip" id="tt-leads"></div>
        <svg id="leadsChart" width="100%" height="240" viewBox="0 0 380 240"></svg>
      </div>
      <div class="card chart">
        <h3>CPL по месяцам (руб.)</h3>
        <div class="tooltip" id="tt-cpl"></div>
        <svg id="cplChart" width="100%" height="240" viewBox="0 0 380 240"></svg>
      </div>
      <div class="card chart">
        <h3>ROI (x)</h3>
        <div class="tooltip" id="tt-roi"></div>
        <svg id="roiChart" width="100%" height="240" viewBox="0 0 380 240"></svg>
      </div>
      <div class="card chart">
        <h3>Конверсия лид→сделка (%)</h3>
        <div class="tooltip" id="tt-cr"></div>
        <svg id="crChart" width="100%" height="240" viewBox="0 0 380 240"></svg>
      </div>
    </div>
  </section>

  <!-- PROJECT LOGOS -->
  <section id="projects" class="section">
    <h2>Проекты и сайты</h2>
    <div class="logos">
      <img src="img/richtone.png" alt="RICHTONE сайт">
      <img src="img/karmy.png" alt="Karmy / Human&Business">
      <img src="img/mariroberto.png" alt="Mariroberto / БТК">
      <img src="img/stroideya.png" alt="Стройидея / М131">
    </div>
  </section>

  <!-- CONTACTS -->
  <section id="contacts" class="section">
    <h2>Контакты</h2>
    <div class="card">
      <p>Свяжитесь со мной: <a href="mailto:sharoshkinalexandr@gmail.com">sharoshkinalexandr@gmail.com</a>. Доступен онлайн-созвон по договорённости.</p>
      <div class="btns" style="margin:12px 0 6px">
        <a class="btn resume" href="resume.pdf" download>
          <svg viewBox="0 0 24 24" fill="none"><path d="M6 20h12M12 3v12m0 0l-4-4m4 4 4-4" stroke="#0b1022" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          Скачать резюме (PDF)
        </a>
      </div>
      <h3>Мессенджеры</h3>
      <div class="socials">
        <a class="sbtn tg" href="https://t.me/Sharoshkin99" target="_blank" rel="noopener">
          <svg viewBox="0 0 24 24" fill="none"><path d="M9.6 15.6l-.3 4.3c.4 0 .6-.2.9-.4l2.1-2 4.3 3.1c.8.4 1.4.2 1.6-.7L22.9 4c.3-1-.4-1.5-1.2-1.2L2.2 10.1c-1 .4-1 1 0 1.3l4.4 1.3L18.9 6c.5-.3.9-.1.5.2l-9.8 9.4z" fill="currentColor"/></svg>
          Telegram
        </a>
        <a class="sbtn wa" href="https://wa.me/79003006324" target="_blank" rel="noopener">
          <svg viewBox="0 0 24 24" fill="none"><path d="M12 1.8A10.2 10.2 0 003.1 18.4L2 22l3.7-1A10.2 10.2 0 1012 1.8zm0 18.7a8.5 8.5 0 01-4.3-1.2l-.3-.2-2.5.6.7-2.4-.2-.3A8.5 8.5 0 1112 20.5zm4.7-6.2c-.3-.2-1.8-.9-2-1-.3-.1-.5-.2-.7.2-.2.2-.8 1-.9 1.1-.1.2-.3.2-.6 0-.3-.2-1.1-.4-2.1-1.4-.8-.7-1.4-1.7-1.6-2-.2-.3 0-.5.1-.6l.5-.6c.1-.2.1-.3.2-.5 0-.2 0-.4 0-.6 0-.2-.7-1.7-1-2.4-.2-.6-.5-.5-.7-.5h-.6c-.2 0-.6.1-.9.4-.3.3-1.1 1-1.1 2.5s1.2 2.9 1.4 3.1c.2.3 2.3 3.5 5.4 4.8.7.3 1.3.5 1.8.7.8.2 1.6.2 2.2.1.7-.1 2.2-.9 2.5-1.8.3-1 0-1.7-.3-1.9z" fill="currentColor"/></svg>
          WhatsApp
        </a>
        <a class="sbtn wc" href="weixin://dl/chat?bombermanmarketolog">
          <svg viewBox="0 0 24 24" fill="none"><path d="M10.2 4.3c-3.8 0-6.9 2.5-6.9 5.7 0 1.9 1.1 3.6 2.9 4.6l-.7 2.4 2.5-1.3c.7.2 1.4.3 2.1.3 3.8 0 6.9-2.5 6.9-5.7s-3.1-6-6.8-6zm-2.8 6.1c-.4 0-.8-.3-.8-.7s.4-.7.8-.7.7.3.7.7-.3.7-.7.7zm3.9 0c-.4 0-.8-.3-.8-.7s.4-.7.8-.7.7.3.7.7-.3.7-.7.7z" fill="currentColor"/></svg>
          WeChat
        </a>
      </div>
    </div>
  </section>
</main>

<!-- SCRIPTS -->
<script>
/* ---- Theme init (system preference + saved choice) ---- */
(function(){
  const saved=localStorage.getItem('theme');
  const prefersLight=window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches;
  document.documentElement.setAttribute('data-theme', saved ? saved : (prefersLight?'light':'dark'));
  const btn=document.getElementById('themeToggle');
  const isLight=document.documentElement.getAttribute('data-theme')==='light';
  btn.setAttribute('aria-pressed', String(isLight));
  document.getElementById('iconSun').style.display=isLight?'none':'block';
  document.getElementById('iconMoon').style.display=isLight?'block':'none';
})();
document.getElementById('themeToggle').addEventListener('click',()=>{
  const cur=document.documentElement.getAttribute('data-theme');
  const next=cur==='light'?'dark':'light';
  document.documentElement.setAttribute('data-theme', next);
  localStorage.setItem('theme', next);
  const isLight=next==='light';
  document.getElementById('themeToggle').setAttribute('aria-pressed', String(isLight));
  document.getElementById('iconSun').style.display=isLight?'none':'block';
  document.getElementById('iconMoon').style.display=isLight?'block':'none';
});

/* ---- reveal on scroll ---- */
const obs=new IntersectionObserver(es=>es.forEach(e=>{if(e.isIntersecting)e.target.classList.add('reveal')}),{threshold:.12});
document.querySelectorAll('.card').forEach(el=>obs.observe(el));

/* ---- Charts helpers (оси, сетка, подписи, тултипы) ---- */
function svgEl(tag,attrs){const e=document.createElementNS('http://www.w3.org/2000/svg',tag);for(const k in attrs)e.setAttribute(k,attrs[k]);return e;}
function scale(v,a,b,A,B){return A+(v-a)*(B-A)/(b-a);}
function yTicks(min,max,steps=5){const arr=[];for(let i=0;i<=steps;i++){arr.push(min+(max-min)*i/steps);}return arr;}
function drawAxes(svg,w,h,p,xLabels,yMin,yMax,formatY){
  const grid=svgEl('g',{stroke: getComputedStyle(document.documentElement).getPropertyValue('--line').trim(),'stroke-width':1});
  const axisColor=getComputedStyle(document.documentElement).getPropertyValue('--axis').trim();
  const ticks=yTicks(yMin,yMax,5);
  ticks.forEach(t=>{
    const y=scale(t,yMin,yMax,h-p,p);
    grid.appendChild(svgEl('line',{x1:p,y1:y,x2:w-p,y2:y}));
    const lbl=svgEl('text',{x:p-8,y:y+4,fill: getComputedStyle(document.documentElement).getPropertyValue('--muted').trim(),'font-size':'10','text-anchor':'end'});
    lbl.textContent=formatY?formatY(t):Math.round(t);
    grid.appendChild(lbl);
  });
  grid.appendChild(svgEl('line',{x1:p,y1:h-p,x2:w-p,y2:h-p,stroke:axisColor}));
  grid.appendChild(svgEl('line',{x1:p,y1:p,x2:p,y2:h-p,stroke:axisColor}));
  svg.appendChild(grid);
  const step=(w-2*p)/(xLabels.length-1);
  xLabels.forEach((lab,i)=>{
    const x=p+i*step, y=h-p+16;
    const t=svgEl('text',{x:x,y:y,fill:getComputedStyle(document.documentElement).getPropertyValue('--muted').trim(),'font-size':'10','text-anchor':'middle'});
    t.textContent=lab; svg.appendChild(t);
  });
}

/* Сглаженная линия */
function smoothPath(points){
  let d=`M ${points[0].x} ${points[0].y}`;
  for(let i=1;i<points.length;i++){
    const p=points[i-1], c=points[i];
    const mx=(p.x+c.x)/2, my=(p.y+c.y)/2;
    const pmx=i===1?p.x:(points[i-2].x+c.x)/2, pmy=i===1?p.y:(points[i-2].y+c.y)/2;
    d+=` C ${pmx} ${pmy}, ${mx} ${my}, ${c.x} ${c.y}`;
  }
  return d;
}

/* Линия с заливкой и тултипами */
function lineChart({svgId,data,labels,color,fill,rev=false,formatY}){
  const svg=document.getElementById(svgId), w=380,h=240,p=32;
  const yMin=Math.min(...data)*0.95, yMax=Math.max(...data)*1.05;
  drawAxes(svg,w,h,p,labels,rev?Math.max(...data):yMin,rev?Math.min(...data):yMax,formatY);
  const pts=data.map((v,i)=>({x:scale(i,0,data.length-1,p,w-p),y:rev?scale(v,Math.max(...data),Math.min(...data),h-p,p):scale(v,yMin,yMax,h-p,p),v}));
  const base=rev?scale(Math.max(...data),Math.max(...data),Math.min(...data),h-p,p):scale(yMin,yMin,yMax,h-p,p);
  const area=svgEl('path',{fill:fill,stroke:'none',d:`${smoothPath(pts)} L ${w-p} ${base} L ${p} ${base} Z`}); svg.appendChild(area);
  const path=svgEl('path',{d:smoothPath(pts),fill:'none',stroke:color,'stroke-width':3}); path.style.filter='drop-shadow(0 0 6px rgba(0,0,0,.15))'; svg.appendChild(path);
  const tt=document.getElementById('tt-'+svgId.split('Chart')[0]);
  pts.forEach((pt,i)=>{
    const c=svgEl('circle',{cx:pt.x,cy:pt.y,r:3.5,fill:'var(--bg)',stroke:color,'stroke-width':2});
    c.addEventListener('mouseenter',(e)=>{tt.style.display='block';tt.textContent=`${labels[i]} — ${formatY?formatY(pt.v):pt.v}`;});
    c.addEventListener('mousemove',(e)=>{tt.style.left=(e.pageX+12)+'px';tt.style.top=(e.pageY-20)+'px';});
    c.addEventListener('mouseleave',()=>{tt.style.display='none';});
    svg.appendChild(c);
  });
}

/* Столбцы */
function barChart({svgId,data,labels,color,formatY}){
  const svg=document.getElementById(svgId), w=380,h=240,p=32;
  const yMin=0, yMax=Math.max(...data)*1.1;
  drawAxes(svg,w,h,p,labels,yMin,yMax,formatY);
  const gap=8, cw=(w-2*p)/data.length-gap;
  data.forEach((v,i)=>{
    const x=p+i*((w-2*p)/data.length)+gap/2;
    const bh=(v/yMax)*(h-2*p);
    const rect=svgEl('rect',{x:x,y:h-p-bh,width:cw,height:bh,rx:6,fill:color});
    rect.style.filter='drop-shadow(0 0 6px rgba(0,0,0,.15))';
    svg.appendChild(rect);
    const txt=svgEl('text',{x:x+cw/2,y:h-p-bh-6,fill:'color-mix(in oklab,var(--text) 88%, transparent)','font-size':'10','text-anchor':'middle'});
    txt.textContent=formatY?formatY(v):v; svg.appendChild(txt);
  });
}

/* Данные: последние 6 месяцев (апр–сент 2025) */
const labels = ['Апр','Май','Июн','Июл','Авг','Сен'];
const leads  = [280, 360, 450, 620, 820, 1100];   // заявки
const cpl    = [680, 610, 540, 490, 450, 420];    // ₽
const roi    = [1.6, 1.9, 2.1, 2.5, 2.9, 3.2];    // x
const cr     = [8, 10, 12, 14, 16, 18];           // %

barChart({svgId:'leadsChart', data:leads, labels, color:'var(--acc)', formatY:v=>v});
lineChart({svgId:'cplChart',   data:cpl,   labels, color:'var(--acc3)', fill:'color-mix(in oklab,var(--acc3) 30%, transparent)', rev:true, formatY:v=>Math.round(v)+' ₽'});
lineChart({svgId:'roiChart',   data:roi,   labels, color:'var(--acc2)', fill:'color-mix(in oklab,var(--acc2) 30%, transparent)',  formatY:v=>v.toFixed(1)+'×'});
lineChart({svgId:'crChart',    data:cr,    labels, color:'var(--acc)',  fill:'color-mix(in oklab,var(--acc) 30%, transparent)',   formatY:v=>v+' %'});
</script>
</body>
</html>
